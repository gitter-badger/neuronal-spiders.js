"use strict";function execute(){var t=NeuronalSpiderConfiguration.searchNeuronalSpiderElements(),i=new Array(t.length),n,r,u;for(n in t)r=NeuronalSpiderConfiguration.readConfiguration(t[n]),u=new NeuronalSpider(r),i[n]=u,i[n].initialize()}var Circle=function(){function n(n,t,i){this.point=n;this.radius=t;this.color=i}return n.prototype.draw=function(n){this.isActive()&&(n.beginPath(),n.arc(this.point.x,this.point.y,this.radius,0,2*Math.PI,!1),n.fillStyle=this.color,n.fill())},n.prototype.getOpacity=function(){return this.color.alpha},n.prototype.isActive=function(){return this.getOpacity()!=0},n}(),Color,Line,NeuronalSpider,NeuronalSpiderConfiguration,Point;Color=function(){function n(n,t,i,r){if(n<0||n>255||t<0||t>255||i<0||i>255||r<0||r>1)throw new RangeError("Out of range numbers");this.red=n;this.green=t;this.blue=i;this.alpha=r}return n.FromHex=function(t){var i;return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,t,i,r){return t+t+i+i+r+r}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),i?new n(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),1):null},n.prototype.toString=function(){return this.alpha==1?this.toHexString():this.toRGBAString()},n.prototype.toHexString=function(){return"#"+this.componentToHex(this.red)+this.componentToHex(this.green)+this.componentToHex(this.blue)},n.prototype.toRGBAString=function(){return"rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")"},n.prototype.componentToHex=function(n){var t=n.toString(16);return t.length==1?"0"+t:t},n}();Line=function(){function n(n,t,i){this.point1=n;this.point2=t;this.color=i}return n.prototype.draw=function(n){n.beginPath();n.moveTo(this.point1.x,this.point1.y);n.lineTo(this.point2.x,this.point2.y);this.color.alpha=this.point1.activeOpacity;n.strokeStyle=this.color.toString();n.stroke()},n.drawLines=function(t,i,r){var u,f;if(t.isActive())for(u in t.closest)f=new n(t,t.closest[u],i),f.draw(r)},n}();window.onload=function(){execute()};NeuronalSpider=function(){function n(n){this.animateHeader=!0;this.configuration=n}return n.prototype.initialize=function(){this.createCanvas();this.initializeHeader();this.initializePoints();this.initAnimation();this.addListeners()},n.prototype.interchangeBackground=function(){var n=window.getComputedStyle(this.configuration.targetElement);n.background!=""&&(this.canvas.style.background=n.background,this.configuration.targetElement.style.background="transparent");this.canvas.style.zIndex="-1"},n.prototype.createCanvas=function(){var n=this.configuration.targetElement.getBoundingClientRect();this.canvas=document.createElement("canvas");this.configuration.targetElement.parentElement.insertBefore(this.canvas,this.configuration.targetElement);this.canvas.width=n.width;this.canvas.height=n.height;this.canvas.style.position="absolute";this.canvas.style.top=n.top.toString()+"px";this.canvas.style.left=n.left.toString()+"px";this.canvas.style.width=n.width.toString()+"px";this.canvas.style.height=n.height.toString()+"px";this.interchangeBackground()},n.prototype.initializeHeader=function(){this.points=[];this.onResize(null);this.targetMouse={x:window.innerWidth/2,y:window.innerHeight/3};this.context=this.canvas.getContext("2d")},n.prototype.initializePoints=function(){this.createPoints();this.findClosests();this.addCircles()},n.prototype.createPoints=function(){for(var t,r,n=Math.sqrt(this.configuration.numberPoints),i=0;i<this.width;i+=this.width/n)for(t=0;t<this.height;t+=this.height/n)r=new Point(i+Math.random()*this.width/n,t+Math.random()*this.height/n),this.points.push(r)},n.prototype.findClosests=function(){this.points=Point.findClosests(this.points,this.configuration)},n.prototype.addCircles=function(){for(var n in this.points)this.points[n].addCircle(this.configuration)},n.prototype.addListeners=function(){"ontouchstart"in window||(window.onmousemove=this.onMouseMove.bind(this));window.onresize=this.onResize.bind(this);window.onscroll=this.onScrollCheck.bind(this)},n.prototype.onMouseMove=function(n){n.pageX||n.pageY?(this.targetMouse.x=n.pageX,this.targetMouse.y=n.pageY):(n.clientX||n.clientY)&&(this.targetMouse.x=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.targetMouse.y=n.clientY+document.body.scrollTop+document.documentElement.scrollTop)},n.prototype.onScrollCheck=function(){this.animateHeader=document.body.scrollTop>this.height?!1:!0},n.prototype.onResize=function(){this.width=this.canvas.width=this.configuration.targetElement.clientWidth;this.height=this.canvas.height=this.configuration.targetElement.clientHeight},n.prototype.initAnimation=function(){this.animate();for(var n in this.points)this.shiftPoint(this.points[n])},n.prototype.animate=function(){var i;if(this.animateHeader){this.context.clearRect(0,0,this.width,this.height);for(i in this.points){var n=this.configuration.maximumOpacity,t=Point.getAbsolutDistance(this.targetMouse,this.points[i]),r=0;r=t<this.configuration.visualRadius/10?n*1:t<this.configuration.visualRadius/9?n/10*9:t<this.configuration.visualRadius/8?n/10*8:t<this.configuration.visualRadius/7?n/10*7:t<this.configuration.visualRadius/6?n/10*6:t<this.configuration.visualRadius/5?n/2:t<this.configuration.visualRadius/4?n/10*4:t<this.configuration.visualRadius/3?n/10*3:t<this.configuration.visualRadius/2?n/5:t<this.configuration.visualRadius?n/10:n*0;this.points[i].circle.color.alpha=r;this.points[i].activeOpacity=r/2;Line.drawLines(this.points[i],new Color(this.configuration.linesColor.red,this.configuration.linesColor.green,this.configuration.linesColor.blue,this.points[i].activeOpacity),this.context);this.points[i].circle.draw(this.context)}}requestAnimationFrame(this.animate.bind(this))},n.prototype.shiftPoint=function(n){TweenLite.to(n,1+1*Math.random(),{x:n.originX-50+Math.random()*100,y:n.originY-50+Math.random()*100,onComplete:this.shiftPoint.bind(this,n)})},n}();NeuronalSpiderConfiguration=function(){function n(n,t){this.enabled=!0;this.numberPoints=400;this.numberLines=5;this.visualRadius=4e4;this.maximumOpacity=.6;this.circleRadius=2;this.circleColor=Color.FromHex("#000000");this.linesColor=Color.FromHex("#000000");this.targetElement=n;this.enabled=t}return n.readConfiguration=function(t){var i,r,u,f,e,o,s,h,c,l;return t.dataset.neuronal=="true"?(i=new n(t,!0),r=t.dataset.numberPoints,r!=null&&(i.numberPoints=parseInt(r)),u=t.dataset.numberLines,u!=null&&(i.numberLines=parseInt(u)),f=t.dataset.visualRadius,f!=null&&(i.visualRadius=parseInt(f)),e=t.dataset.maximumOpacity,e!=null&&(i.maximumOpacity=parseInt(e)),o=t.dataset.circleRadius,o!=null&&(i.circleRadius=parseInt(o)),s=t.dataset.color,s!=null&&(h=Color.FromHex(s),i.circleColor=h,i.linesColor=h),c=t.dataset.circlesColor,c!=null&&(i.circleColor=Color.FromHex(c)),l=t.dataset.linesColor,l!=null&&(i.linesColor=Color.FromHex(l)),i):new n(t,!1)},n.searchNeuronalSpiderElements=function(){try{var n=document.querySelectorAll("[data-neuronal]");return Array.prototype.slice.call(n)}catch(t){return null}},n}();Point=function(){function n(n,t){this.x=this.originX=n;this.y=this.originY=t}return n.prototype.isActive=function(){return this.activeOpacity!=0},n.prototype.addCircle=function(n){this.circle=new Circle(this,n.circleRadius+Math.random()*2,new Color(n.circleColor.red,n.circleColor.green,n.circleColor.blue,1))},n.getAbsolutDistance=function(t,i){return Math.abs(n.getDistance(t,i))},n.getDistance=function(n,t){return Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)},n.findClosests=function(t,i){var s,u,f,h,e,o,r;for(s in t){u=new Array(i.numberLines);f=t[s];for(h in t)if(e=t[h],f!=e){for(o=!1,r=0;r<i.numberLines;r++)o||u[r]==undefined&&(u[r]=e,o=!0);for(r=0;r<i.numberLines;r++)o||n.getDistance(f,e)<n.getDistance(f,u[r])&&(u[r]=e,o=!0)}f.closest=u}return t},n}();